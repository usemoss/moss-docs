---
title: "Sub-10ms Knowledge Retrieval"
description: "Build fast, private semantic retrieval with Moss"
---

## Problem
You need sub-10 ms retrieval and instant index updates without heavy infrastructure.

## Architecture
- Index once; query in sub-10 ms
- Optional background sync to cloud
- Query pipeline: text -> embed -> retrieve -> rerank (optional)

## Prerequisites
- Node.js 16+ or Python 3.8+
- Moss credentials: `MOSS_PROJECT_ID`, `MOSS_PROJECT_KEY`
- An index to query (create `faqs` via the [Quickstart](/docs/start/quickstart) if you donâ€™t have one yet)

## Steps
<Steps>

<Step title="Export credentials (and index if different)">
```bash
export MOSS_PROJECT_ID=your_project_id
export MOSS_PROJECT_KEY=your_project_key
export MOSS_INDEX_NAME=faqs   # or your index
```
</Step>

<Step title="Ensure the index exists">
Ensure the index exists (see [Quickstart](/docs/start/quickstart) to create `faqs`).
</Step>

<Step title="Run one of the snippets below">
Run one of the snippets below.
</Step>

</Steps>

## Run the sample (JavaScript or Python)

<CodeGroup>
```ts JavaScript
import { MossClient } from '@inferedge/moss'

const client = new MossClient(
  process.env.MOSS_PROJECT_ID!,
  process.env.MOSS_PROJECT_KEY!
)

const indexName = process.env.MOSS_INDEX_NAME || 'faqs' // ensure this exists (see Quickstart)

async function main() {
  await client.loadIndex(indexName)
  const results = await client.query(indexName, 'How do I return a damaged product?', { topK: 3 })

  console.log(`Found ${results.docs.length} docs in ${results.timeTakenInMs}ms`)
  results.docs.forEach((doc, i) => {
    console.log(`${i + 1}. [${doc.id}] ${doc.text} (score: ${doc.score.toFixed(3)})`)
  })
}

main().catch(console.error)
```
```python Python
import os
import asyncio
from inferedge_moss import MossClient

project_id = os.getenv("MOSS_PROJECT_ID")
project_key = os.getenv("MOSS_PROJECT_KEY")
index_name = os.getenv("MOSS_INDEX_NAME", "faqs")  # ensure this exists (see Quickstart)

async def main():
    client = MossClient(project_id, project_key)
    await client.load_index(index_name)
    results = await client.query(index_name, "How do I return a damaged product?", 3)

    print(f"Found {len(results.docs)} docs")
    for i, doc in enumerate(results.docs, 1):
        print(f"{i}. [{doc.id}] {doc.text} (score: {doc.score:.3f})")

asyncio.run(main())
```
</CodeGroup>

## Result
Sub-10 ms queries with minimal infra and optional sync. The sample loads your index and returns top matches immediately.
