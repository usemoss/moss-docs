---
title: "Agent Memory"
description: "Add long-term memory to AI agents with Moss"
---

## Problem
Agents forget context across sessions. We need durable memory.

## Architecture
- Store interactions as documents with embeddings
- Retrieve relevant memories per prompt
- Update memory store after each turn

## Code walkthrough (JavaScript)

```ts
import { MossClient } from '@inferedge/moss'
const client = new MossClient(process.env.MOSS_PROJECT_ID!, process.env.MOSS_PROJECT_KEY!)

const index = 'agent-memory'
await client.createIndex(index, [
  { id: 'user_profile', text: 'User prefers concise answers.' }
], 'moss-minilm')

await client.loadIndex(index)
const memories = await client.query(index, 'preferences for responses', 3)
```

## Result
Agents recall user preferences and prior context reliably.

import NextSteps from '/snippets/next-steps.mdx';

<NextSteps />
